# AWS Management Tools Overview

Quick reference for all management tools in this repository.

## üöÄ EC2 Instance Launcher

**File**: `create-start-script.sh`

**Purpose**: Create keyboard-shortcut commands to start and connect to your EC2 instances.

**What it does**:
- Queries AWS for your EC2 instances
- Creates a personalized start script in `~/.local/bin/`
- Updates SSH config with dynamic IPs
- Sends desktop notifications

**Usage**:
```bash
./create-start-script.sh
# Select your instance from the menu
# Then use: start-aws-<project-name>
```

**When to use**:
- You frequently start/stop EC2 dev instances
- You want quick SSH access with dynamic IPs
- You need desktop notifications when instances are ready

**Safety**: ‚úÖ Safe - only starts instances, never destroys

üìñ **Full Guide**: [START_SCRIPT_GUIDE.md](START_SCRIPT_GUIDE.md)
üìÑ **Example Output**: [EXAMPLE_OUTPUT.md](EXAMPLE_OUTPUT.md)

---

## üî• CDK Stack Destroyer

**File**: `destroy-cdk-project.sh`

**Purpose**: Safely destroy CDK stacks with multiple confirmation prompts.

**What it does**:
- Discovers all CDK projects in the repository
- Lists all stacks and resources
- Requires multiple confirmations before destruction
- Shows account/region information
- Permanently deletes all stack resources

**Usage**:
```bash
./destroy-cdk-project.sh
# Select project from the menu
# Review resources
# Confirm twice to proceed
```

**When to use**:
- Cleaning up development environments
- Decommissioning infrastructure
- Freeing up AWS resources
- Testing infrastructure as code

**Safety**: ‚ö†Ô∏è DESTRUCTIVE - requires multiple confirmations, defaults to "No"

üìñ **Full Guide**: [DESTROY_CDK_GUIDE.md](DESTROY_CDK_GUIDE.md)
üìÑ **Example Output**: [DESTROY_EXAMPLE_OUTPUT.md](DESTROY_EXAMPLE_OUTPUT.md)

---

## Quick Comparison

| Feature | EC2 Launcher | CDK Destroyer |
|---------|--------------|---------------|
| **Purpose** | Start EC2 instances | Destroy CDK stacks |
| **AWS Service** | EC2 | CloudFormation |
| **Destructive?** | ‚ùå No | ‚úÖ Yes |
| **Confirmations** | None needed | 2 required |
| **Auto-discovery** | ‚úÖ Yes | ‚úÖ Yes |
| **Multi-region** | ‚úÖ Yes | ‚úÖ Yes |
| **Desktop notifications** | ‚úÖ Yes | ‚úÖ Yes |
| **Default safety** | N/A | No (safe) |
| **Use frequency** | Daily/weekly | Rarely |

---

## Prerequisites

### Both Tools Require:
- AWS CLI installed and configured
- Bash shell (Linux/macOS/WSL)
- AWS credentials with appropriate permissions

### EC2 Launcher Requires:
- `ec2:DescribeInstances` permission
- `ec2:StartInstances` permission
- `ec2:DescribeRegions` (for multi-region search)

### CDK Destroyer Requires:
- AWS CDK CLI: `npm install -g aws-cdk`
- `cloudformation:DescribeStacks` permission
- `cloudformation:DeleteStack` permission
- Node.js and npm

---

## Installation

Both scripts are executable and ready to use:

```bash
# Make scripts executable (if needed)
chmod +x create-start-script.sh
chmod +x destroy-cdk-project.sh

# Ensure ~/.local/bin is in your PATH
echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc
```

---

## Workflow Examples

### Development Workflow

**Morning**: Start your dev instance
```bash
start-aws-dev-server  # Generated by EC2 launcher
```

**During Day**: SSH to instance
```bash
ssh dev-server  # IP auto-updated by start script
```

**Evening**: Clean up test infrastructure
```bash
./destroy-cdk-project.sh  # Destroy test stacks
```

### Testing Workflow

**Deploy Infrastructure**:
```bash
cd my-cdk-project
cdk deploy
```

**Test Your Application**:
```bash
# Run tests, validate functionality
```

**Clean Up**:
```bash
cd ..
./destroy-cdk-project.sh  # Select and destroy test project
```

---

## Safety Best Practices

### EC2 Launcher
‚úÖ Review instance selection before creating script
‚úÖ Name your instances clearly with Name tags
‚úÖ Use separate SSH keys for different environments

### CDK Destroyer
‚ö†Ô∏è Always review the resource list before confirming
‚ö†Ô∏è Backup data before destroying production-like environments
‚ö†Ô∏è Test destruction process in dev environments first
‚ö†Ô∏è Double-check account ID and region before confirming
‚ö†Ô∏è Empty S3 buckets before destroying stacks with S3 resources

---

## Troubleshooting

### EC2 Launcher Issues

**"No instances found"**
- Check AWS region: `aws configure get region`
- Try searching all regions when prompted
- Verify `ec2:DescribeInstances` permission

**"Failed to start instance"**
- Check instance state (can't start terminated instances)
- Verify `ec2:StartInstances` permission
- Ensure instance exists in the correct region

### CDK Destroyer Issues

**"No CDK projects found"**
- Run from repository root
- Check that projects have `cdk.json`
- Verify `package.json` exists

**"Destruction failed"**
- Empty S3 buckets first
- Remove dependencies manually
- Disable deletion protection
- Check CloudFormation console for details

---

## Advanced Usage

### Creating Multiple EC2 Launchers

```bash
# Create launchers for different instances/projects
cd ~/project1
./path/to/create-start-script.sh  # Creates start-aws-project1

cd ~/project2
./path/to/create-start-script.sh  # Creates start-aws-project2

# Now you have:
# start-aws-project1
# start-aws-project2
```

### Batch Destroying Multiple Projects

The destroyer script is interactive and requires manual confirmation for safety. For batch operations (use with extreme caution):

```bash
# NOT RECOMMENDED - Manual destruction is safer
# Only use if you're absolutely certain
cd project1 && cdk destroy --all --force
cd project2 && cdk destroy --all --force
```

---

## Contributing

To add new management tools to this repository:

1. Follow the same pattern:
   - Interactive with clear prompts
   - Auto-discovery where possible
   - Multiple confirmations for destructive operations
   - Colored output for clarity
   - Desktop notifications

2. Create documentation:
   - Main guide (like `START_SCRIPT_GUIDE.md`)
   - Example output (like `EXAMPLE_OUTPUT.md`)
   - Update this overview

3. Test thoroughly:
   - Test happy path
   - Test error scenarios
   - Test with missing dependencies
   - Test cancellation flows

---

## Related Resources

- [AWS CLI Documentation](https://docs.aws.amazon.com/cli/)
- [AWS CDK Documentation](https://docs.aws.amazon.com/cdk/)
- [CloudFormation Documentation](https://docs.aws.amazon.com/cloudformation/)
- [EC2 Instance Lifecycle](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-lifecycle.html)

---

## License

These tools are provided as-is for managing AWS infrastructure. Use at your own risk, especially the destroyer script.

## Support

For issues or questions:
- Check the individual guide documents
- Review the example output documents
- Consult AWS documentation
- Test in non-production environments first
